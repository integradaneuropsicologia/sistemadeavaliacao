<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro de Pacientes â€” Integrada Neuropsicologia</title>
  <meta name="description" content="Login e cadastro de pacientes com liberaÃ§Ã£o de testes por SheetDB." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-theme="dark">
  <div class="wrap">
    <div class="topbar">
      <div class="brand">Integrada Neuropsicologia â€” Painel</div>
      <div class="top-actions">
        <button id="themeToggle" class="btn sec">ðŸŒ™ Modo escuro</button>
        <button id="btnLogout" class="btn sec hidden">Sair</button>
      </div>
    </div>

    <!-- LOGIN -->
    <section id="viewLogin" class="card">
      <h1>Entrar</h1>
      <p class="muted">
        Use seu usuÃ¡rio e senha cadastrados na aba <strong>Auth</strong>.
      </p>
      <div class="row">
        <div>
          <label>UsuÃ¡rio</label>
          <input id="loginUser" type="text" autocomplete="username" />
        </div>
        <div>
          <label>Senha</label>
          <input id="loginPass" type="password" autocomplete="current-password" />
        </div>
      </div>
      <div class="toolbar">
        <button id="btnLogin" class="btn">Entrar</button>
      </div>
      <div id="loginMsg" class="msg hidden"></div>
    </section>

    <!-- APP -->
    <section id="viewApp" class="card hidden">
      <h1>Cadastro de Paciente</h1>

      <!-- BLOCO 1: SOMENTE CPF -->
      <div id="cpfLookup" class="row" style="margin-top:8px;">
        <div>
          <label>CPF (somente nÃºmeros)</label>
          <input id="pacCPF" type="text" inputmode="numeric" maxlength="14" placeholder="000.000.000-00" />
        </div>
      </div>
      <div class="toolbar" id="lookupBar">
        <button id="btnBuscar" class="btn sec">Buscar/Carregar por CPF</button>
        <button id="btnCopyLink" class="btn sec">Copiar link</button>
      </div>

      <div id="pacMsg" class="msg hidden"></div>

      <!-- BLOCO 2: FORM DE DADOS -->
      <div id="pacForm" class="hidden">
        <h2>Dados do paciente</h2>
        <div class="row">
          <div>
            <label>Nome completo</label>
            <input id="pacNome" type="text" placeholder="Ex.: Ana Paula Gomes do Nascimento" />
          </div>
          <div>
            <label>Data de nascimento</label>
            <input id="pacNasc" type="date" />
          </div>
        </div>
        <div class="row">
          <div>
            <label>E-mail</label>
            <input id="pacEmail" type="email" placeholder="nome@exemplo.com" autocomplete="email" />
          </div>
          <div>
            <label>WhatsApp (DDD + nÃºmero)</label>
            <input id="pacWhats" type="tel" inputmode="numeric" placeholder="(41) 9 9999-9999" />
          </div>
        </div>

        <div class="toolbar" id="formBar">
          <button id="btnSalvar" class="btn">Salvar</button>
          <button id="btnBaixarAnamnese" class="btn sec">Baixar PDF da Anamnese</button>
        </div>
      </div>

      <!-- BLOCO 3: TESTES -->
      <div id="testsWrap" class="hidden">
        <h2 style="margin-top:18px;">Testes</h2>
        <div class="toolbar" style="margin-bottom:6px;">
          <label for="statusFilter" style="margin:0;align-self:center;">Filtrar por status</label>
          <select id="statusFilter" aria-label="Filtrar por status">
            <option value="todos">Todos</option>
            <option value="cadastrar">Cadastrar</option>
            <option value="ja">JÃ¡ registrados</option>
            <option value="preenchido">Preenchido</option>
          </select>
          <div id="testsInfo" class="tag new">carregando catÃ¡logoâ€¦</div>
        </div>
        <div id="testsGrid" class="grid-tests" aria-live="polite"></div>
      </div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
